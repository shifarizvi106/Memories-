<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Memory Lane ‚Äî Our Digital Scrapbook</title>
<style>
:root{
  --bg:#fef7ff; --card:#fff; --text:#1a1a1a; --muted:#666;
  --accent: #8B5CF6; --accent-light: #e9d5ff;
  --radius:16px; --shadow: 0 8px 25px rgba(139, 92, 246, 0.15);
  --scrap-pattern: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(139, 92, 246, 0.03) 10px, rgba(139, 92, 246, 0.03) 20px);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI', system-ui, sans-serif;
  background: var(--bg);
  background-image: var(--scrap-pattern);
  color:var(--text);
  line-height:1.6;
}

.container{max-width:1400px;margin:0 auto;padding:20px}
header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:30px;
  padding:20px;
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:2px solid var(--accent-light);
}

.logo{font-weight:800;font-size:28px;color:var(--accent);display:flex;align-items:center;gap:12px}
.logo .mark{width:50px;height:50px;border-radius:12px;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:20px}

/* Scrapbook Layout */
.scrapbook-layout{
  display:grid;
  grid-template-columns:280px 1fr;
  gap:30px;
  min-height:80vh;
}

/* Friends Sidebar - Sticky Scrapbook Feel */
.friends-scrapbook{
  background:var(--card);
  border-radius:var(--radius);
  padding:25px;
  box-shadow:var(--shadow);
  border:2px solid var(--accent-light);
  position:sticky;
  top:20px;
  height:fit-content;
}

.friend-scrap-item{
  display:flex;
  align-items:center;
  gap:15px;
  padding:15px;
  margin-bottom:12px;
  background:#faf5ff;
  border-radius:12px;
  border:1px solid var(--accent-light);
  cursor:pointer;
  transition:all 0.3s ease;
}
.friend-scrap-item:hover{
  transform:translateX(8px);
  box-shadow:0 4px 12px rgba(139, 92, 246, 0.2);
}
.friend-scrap-item.active{
  background:var(--accent);
  color:white;
}

.avatar-scrap{
  width:50px;
  height:50px;
  border-radius:12px;
  background:linear-gradient(135deg,var(--accent),#EC4899);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:800;
  font-size:18px;
  border:2px solid white;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
}

/* Main Scrapbook Area */
.scrapbook-main{
  background:var(--card);
  border-radius:var(--radius);
  padding:30px;
  box-shadow:var(--shadow);
  border:2px solid var(--accent-light);
  min-height:600px;
}

/* Profile Header - Scrapbook Style */
.profile-scrap-header{
  display:flex;
  gap:25px;
  align-items:center;
  margin-bottom:30px;
  padding-bottom:25px;
  border-bottom:3px dotted var(--accent-light);
}

.profile-scrap-avatar{
  width:120px;
  height:120px;
  border-radius:20px;
  background:linear-gradient(135deg,var(--accent),#EC4899);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:900;
  font-size:42px;
  border:4px solid white;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

.profile-scrap-info h1{
  margin:0;
  font-size:32px;
  color:var(--accent);
}
.profile-scrap-bio{
  font-size:18px;
  color:var(--muted);
  margin:10px 0;
  font-style:italic;
}
.profile-scrap-meta{
  display:flex;
  gap:20px;
  margin-top:15px;
}
.meta-badge{
  background:#f0e6ff;
  padding:8px 16px;
  border-radius:20px;
  font-size:14px;
  color:var(--accent);
  font-weight:600;
}

/* Posts Grid - Polaroid Style */
.scrapbook-posts{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(280px, 1fr));
  gap:25px;
  margin-top:30px;
}

.post-polaroid{
  background:white;
  padding:20px 20px 30px;
  border-radius:8px;
  box-shadow:0 6px 20px rgba(0,0,0,0.1);
  border:1px solid #e9d5ff;
  transition:all 0.3s ease;
  position:relative;
  transform:rotate(-1deg);
}
.post-polaroid:nth-child(even){
  transform:rotate(1deg);
}
.post-polaroid:hover{
  transform:rotate(0deg) scale(1.05);
  box-shadow:0 10px 30px rgba(139, 92, 246, 0.3);
}

.polaroid-image{
  width:100%;
  height:200px;
  object-fit:cover;
  border-radius:4px;
  margin-bottom:15px;
  border:2px solid #f0e6ff;
}
.polaroid-caption{
  font-size:14px;
  color:var(--text);
  margin-bottom:10px;
  padding:0 5px;
}
.polaroid-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:12px;
  color:var(--muted);
  border-top:1px dashed #e9d5ff;
  padding-top:10px;
}

/* Login Screen - Scrapbook Theme */
.login-scrapbook{
  max-width:500px;
  margin:60px auto;
  padding:40px;
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:3px solid var(--accent-light);
  text-align:center;
}

.login-scrapbook h2{
  color:var(--accent);
  margin-bottom:10px;
  font-size:32px;
}
.login-scrapbook .subtitle{
  color:var(--muted);
  margin-bottom:30px;
  font-size:18px;
}

.scrap-input{
  width:100%;
  padding:18px;
  border:2px solid var(--accent-light);
  border-radius:12px;
  font-size:16px;
  margin-bottom:20px;
  background:#faf5ff;
  transition:all 0.3s ease;
}
.scrap-input:focus{
  outline:none;
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(139, 92, 246, 0.1);
}

.scrap-btn{
  width:100%;
  padding:18px;
  background:var(--accent);
  color:white;
  border:none;
  border-radius:12px;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
  transition:all 0.3s ease;
  margin-bottom:15px;
}
.scrap-btn:hover{
  background:#7c3aed;
  transform:translateY(-2px);
  box-shadow:0 6px 20px rgba(139, 92, 246, 0.4);
}

/* Empty State */
.empty-scrapbook{
  text-align:center;
  padding:80px 20px;
  color:var(--muted);
}
.empty-scrapbook h3{
  font-size:24px;
  margin-bottom:10px;
  color:var(--accent);
}
.empty-scrapbook p{
  font-size:16px;
}

/* Action Buttons */
.scrap-actions{
  display:flex;
  gap:15px;
  margin:25px 0;
}
.action-btn{
  padding:12px 24px;
  border:2px solid var(--accent-light);
  background:white;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  transition:all 0.3s ease;
}
.action-btn.primary{
  background:var(--accent);
  color:white;
  border-color:var(--accent);
}
.action-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(0,0,0,0.15);
}

/* Responsive */
@media(max-width:768px){
  .scrapbook-layout{grid-template-columns:1fr}
  .friends-scrapbook{position:static;margin-bottom:20px}
  .profile-scrap-header{flex-direction:column;text-align:center}
  .profile-scrap-meta{justify-content:center}
}
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="logo">
      <div class="mark">ML</div>
      <div>Memory Lane Scrapbook</div>
    </div>
    <div id="authArea"></div>
  </header>

  <!-- LOGIN SCREEN -->
  <div id="loginScreen">
    <div class="login-scrapbook">
      <h2>Welcome to Our Scrapbook! üìñ</h2>
      <p class="subtitle">A private digital memory book for our group</p>
      
      <input type="text" id="loginName" class="scrap-input" placeholder="Your Name (e.g., Ritika)">
      <input type="text" id="loginPassword" class="scrap-input" placeholder="Birthday (DD-MM-YY e.g., 10-06-08)">
      
      <button class="scrap-btn" id="doLogin">Open Our Scrapbook</button>
      <button class="scrap-btn" style="background:#94a3b8" id="demoLogin">Quick Peek (Shifa)</button>
      
      <p id="loginError" style="color:#dc2626;margin-top:15px"></p>
    </div>
  </div>

  <!-- MAIN APP -->
  <div id="app" style="display:none">
    <div class="scrapbook-layout">
      <!-- Friends Sidebar -->
      <aside class="friends-scrapbook">
        <h3 style="margin:0 0 20px;color:var(--accent)">Our Memory Keepers</h3>
        <div id="friendsList"></div>
        
        <div style="margin-top:30px;padding-top:20px;border-top:2px dotted var(--accent-light)">
          <h4 style="margin:0 0 15px;color:var(--accent)">üéÇ Coming Up</h4>
          <div id="upcomingList"></div>
        </div>
      </aside>

      <!-- Main Scrapbook Content -->
      <main class="scrapbook-main">
        <div class="profile-scrap-header">
          <div class="profile-scrap-avatar" id="profileAvatar"></div>
          <div class="profile-scrap-info">
            <h1 id="profileName"></h1>
            <p class="profile-scrap-bio" id="profileBio"></p>
            <div class="profile-scrap-meta">
              <div class="meta-badge">üéÇ <span id="profileBday"></span></div>
              <div class="meta-badge">üì∏ <span id="postCount">0</span> memories</div>
            </div>
          </div>
        </div>

        <!-- Action Buttons (only show when viewing own profile) -->
        <div class="scrap-actions" id="actionButtons" style="display:none">
          <button class="action-btn primary" id="newMemoryBtn">+ Add Memory</button>
          <button class="action-btn" id="editProfileBtn">Edit Scrapbook</button>
          <button class="action-btn" id="logoutBtn" style="margin-left:auto">Logout</button>
        </div>

        <!-- Memories Grid -->
        <div id="postsArea">
          <div class="scrapbook-posts" id="postsGrid"></div>
          <div class="empty-scrapbook" id="noPostsNotice">
            <h3>No memories yet</h3>
            <p>This scrapbook page is waiting for its first memory...</p>
          </div>
        </div>
      </main>
    </div>
  </div>
</div>

<script>
// Our friend group data
const FRIENDS = [
  { name: "Ritika", birthday: "06-07-08", bio: "Loves chai & creative sketches ‚ú®" },
  { name: "Vidhi", birthday: "12-11-08", bio: "Bookworm with the best vibes üìö" },
  { name: "Saksham", birthday: "24-01-09", bio: "Tech enthusiast & gaming pro üéÆ" },
  { name: "Harshit", birthday: "23-01-07", bio: "Cricket lover and coding wizard üèè" },
  { name: "Sai", birthday: "04-03-08", bio: "Photography king with a shy smile üì∑" },
  { name: "Juili", birthday: "25-05-08", bio: "Painter of beautiful tiny worlds üé®" },
  { name: "Kunal", birthday: "19-10-08", bio: "Master of sketches and snacks ‚úèÔ∏è" },
  { name: "Ayaan", birthday: "16-01-08", bio: "Math genius with endless puns üî¢" },
  { name: "Amrut", birthday: "20-09-05", bio: "The wise old soul of the group üëë" },
  { name: "Shifa", birthday: "10-06-08", bio: "Poet, baddie, memory keeper üí´" }
];

// App state
let currentUser = null;
let viewingProfile = null;

// DOM elements
const loginScreen = document.getElementById('loginScreen');
const app = document.getElementById('app');
const friendsList = document.getElementById('friendsList');
const upcomingList = document.getElementById('upcomingList');
const profileAvatar = document.getElementById('profileAvatar');
const profileName = document.getElementById('profileName');
const profileBio = document.getElementById('profileBio');
const profileBday = document.getElementById('profileBday');
const postCount = document.getElementById('postCount');
const postsGrid = document.getElementById('postsGrid');
const noPostsNotice = document.getElementById('noPostsNotice');
const actionButtons = document.getElementById('actionButtons');
const authArea = document.getElementById('authArea');

// Storage helpers
function getPostsKey(username) { return `ml_posts_${username.toLowerCase()}`; }
function getAvatarKey(username) { return `ml_avatar_${username.toLowerCase()}`; }
function getProfileKey(username) { return `ml_profile_${username.toLowerCase()}`; }

function loadPosts(username) {
  try { return JSON.parse(localStorage.getItem(getPostsKey(username))) || []; } 
  catch { return []; }
}

function savePosts(username, posts) {
  localStorage.setItem(getPostsKey(username), JSON.stringify(posts));
}

function loadAvatar(username) {
  return localStorage.getItem(getAvatarKey(username));
}

function saveAvatar(username, dataURL) {
  localStorage.setItem(getAvatarKey(username), dataURL);
}

// Login function
function handleLogin() {
  const name = document.getElementById('loginName').value.trim();
  const password = document.getElementById('loginPassword').value.trim();
  const error = document.getElementById('loginError');

  if (!name || !password) {
    error.textContent = 'Please enter both name and birthday';
    return;
  }

  const user = FRIENDS.find(f => 
    f.name.toLowerCase() === name.toLowerCase() && 
    f.birthday === password
  );

  if (user) {
    currentUser = user;
    viewingProfile = user.name;
    showApp();
  } else {
    error.textContent = 'Name or birthday not recognized';
  }
}

// Demo login
function handleDemoLogin() {
  document.getElementById('loginName').value = 'Shifa';
  document.getElementById('loginPassword').value = '10-06-08';
  handleLogin();
}

// Show main app
function showApp() {
  loginScreen.style.display = 'none';
  app.style.display = 'block';
  renderFriendsList();
  renderUpcomingBirthdays();
  renderProfile(viewingProfile);
  renderAuthArea();
}

// Render friends list
function renderFriendsList() {
  friendsList.innerHTML = '';
  FRIENDS.forEach(friend => {
    const isActive = friend.name === viewingProfile;
    const isCurrentUser = friend.name === currentUser.name;
    
    const friendEl = document.createElement('div');
    friendEl.className = `friend-scrap-item ${isActive ? 'active' : ''}`;
    friendEl.onclick = () => {
      viewingProfile = friend.name;
      renderProfile(friend.name);
      renderFriendsList(); // Re-render to update active states
    };

    const avatar = document.createElement('div');
    avatar.className = 'avatar-scrap';
    const savedAvatar = loadAvatar(friend.name);
    if (savedAvatar) {
      avatar.style.backgroundImage = `url(${savedAvatar})`;
      avatar.textContent = '';
    } else {
      avatar.textContent = friend.name[0];
    }

    const info = document.createElement('div');
    info.innerHTML = `
      <div style="font-weight:700">${friend.name} ${isCurrentUser ? ' (You)' : ''}</div>
      <div style="font-size:12px;color:${isActive ? 'white' : '#666'}">${friend.bio}</div>
    `;

    friendEl.appendChild(avatar);
    friendEl.appendChild(info);
    friendsList.appendChild(friendEl);
  });
}

// Render upcoming birthdays
function renderUpcomingBirthdays() {
  upcomingList.innerHTML = '';
  const today = new Date();
  
  FRIENDS.forEach(friend => {
    const [day, month, year] = friend.birthday.split('-');
    const nextBirthday = new Date(today.getFullYear(), parseInt(month) - 1, parseInt(day));
    if (nextBirthday < today) nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
    
    const daysUntil = Math.ceil((nextBirthday - today) / (1000 * 60 * 60 * 24));
    
    if (daysUntil <= 30) {
      const item = document.createElement('div');
      item.style.marginBottom = '8px';
      item.innerHTML = `
        <strong>${friend.name}</strong> 
        <span style="color:#666;font-size:12px">- ${daysUntil} day${daysUntil !== 1 ? 's' : ''}</span>
      `;
      upcomingList.appendChild(item);
    }
  });
}

// Render profile
function renderProfile(username) {
  const friend = FRIENDS.find(f => f.name === username);
  if (!friend) return;

  // Update profile header
  profileName.textContent = friend.name;
  profileBio.textContent = friend.bio;
  profileBday.textContent = formatBirthday(friend.birthday);

  // Update avatar
  const savedAvatar = loadAvatar(friend.name);
  profileAvatar.style.backgroundImage = savedAvatar ? `url(${savedAvatar})` : '';
  profileAvatar.textContent = savedAvatar ? '' : friend.name[0];

  // Show/hide action buttons
  const isOwnProfile = friend.name === currentUser.name;
  actionButtons.style.display = isOwnProfile ? 'flex' : 'none';

  // Render posts
  renderPosts(username);
}

// Format birthday display
function formatBirthday(bday) {
  const [d, m, y] = bday.split('-');
  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  return `${parseInt(d)} ${months[parseInt(m) - 1]} 20${y}`;
}

// Render posts
function renderPosts(username) {
  const posts = loadPosts(username);
  postsGrid.innerHTML = '';
  
  postCount.textContent = posts.length;
  
  if (posts.length === 0) {
    noPostsNotice.style.display = 'block';
    return;
  }
  
  noPostsNotice.style.display = 'none';
  
  posts.forEach(post => {
    const postEl = document.createElement('div');
    postEl.className = 'post-polaroid';
    postEl.innerHTML = `
      <img src="${post.image}" class="polaroid-image" alt="Memory">
      <div class="polaroid-caption">${post.caption || 'A beautiful memory üí´'}</div>
      <div class="polaroid-meta">
        <span>${new Date(post.createdAt).toLocaleDateString()}</span>
        ${username === currentUser.name ? '<button onclick="deletePost(\'' + post.id + '\')" style="background:none;border:none;cursor:pointer">üóëÔ∏è</button>' : ''}
      </div>
    `;
    postsGrid.appendChild(postEl);
  });
}

// Add new memory
document.getElementById('newMemoryBtn').onclick = function() {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = 'image/*';
  input.onchange = function(e) {
    const file = e.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
      const caption = prompt('Add a caption for this memory:') || 'A special moment üí´';
      const posts = loadPosts(currentUser.name);
      const newPost = {
        id: Date.now().toString(),
        image: e.target.result,
        caption: caption,
        createdAt: Date.now()
      };
      
      posts.unshift(newPost);
      savePosts(currentUser.name, posts);
      renderPosts(currentUser.name);
    };
    reader.readAsDataURL(file);
  };
  input.click();
};

// Delete post
function deletePost(postId) {
  if (!confirm('Remove this memory from your scrapbook?')) return;
  
  const posts = loadPosts(currentUser.name).filter(p => p.id !== postId);
  savePosts(currentUser.name, posts);
  renderPosts(currentUser.name);
}

// Edit profile
document.getElementById('editProfileBtn').onclick = function() {
  const newBio = prompt('Update your bio:', profileBio.textContent);
  if (newBio !== null) {
    profileBio.textContent = newBio;
  }
  
  const avatarInput = document.createElement('input');
  avatarInput.type = 'file';
  avatarInput.accept = 'image/*';
  avatarInput.onchange = function(e) {
    const file = e.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
      saveAvatar(currentUser.name, e.target.result);
      renderProfile(currentUser.name);
      renderFriendsList();
    };
    reader.readAsDataURL(file);
  };
  avatarInput.click();
};

// Render auth area
function renderAuthArea() {
  authArea.innerHTML = `
    <div style="display:flex;align-items:center;gap:15px">
      <div style="color:#666">Hello, <strong>${currentUser.name}</strong>!</div>
    </div>
  `;
}

// Logout
document.getElementById('logoutBtn').onclick = function() {
  if (confirm('Close the scrapbook for now?')) {
    currentUser = null;
    viewingProfile = null;
    app.style.display = 'none';
    loginScreen.style.display = 'block';
    document.getElementById('loginName').value = '';
    document.getElementById('loginPassword').value = '';
  }
};

// Event listeners
document.getElementById('doLogin').addEventListener('click', handleLogin);
document.getElementById('demoLogin').addEventListener('click', handleDemoLogin);

// Allow Enter key to login
document.addEventListener('keypress', function(e) {
  if (e.key === 'Enter' && loginScreen.style.display !== 'none') {
    handleLogin();
  }
});
</script>
</body>
</html>
